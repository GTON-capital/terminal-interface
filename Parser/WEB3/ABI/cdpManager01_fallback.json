[
  {
    "type": "constructor",
    "stateMutability": "nonpayable",
    "inputs": [
      { "type": "address", "name": "_vaultManagerParameters", "internalType": "address" },
      { "type": "address", "name": "_vaultManagerBorrowFeeParameters", "internalType": "address" },
      { "type": "address", "name": "_oracleRegistry", "internalType": "address" },
      { "type": "address", "name": "_cdpRegistry", "internalType": "address" },
      { "type": "address", "name": "_swappersRegistry", "internalType": "address" }
    ]
  },
  {
    "type": "event",
    "name": "Exit",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address", "indexed": true },
      { "type": "address", "name": "owner", "internalType": "address", "indexed": true },
      { "type": "uint256", "name": "main", "internalType": "uint256", "indexed": false },
      { "type": "uint256", "name": "usdp", "internalType": "uint256", "indexed": false }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "ExitWithDeleverage",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address", "indexed": true },
      { "type": "address", "name": "owner", "internalType": "address", "indexed": true },
      { "type": "uint256", "name": "assetToUser", "internalType": "uint256", "indexed": false },
      { "type": "uint256", "name": "assetToSwap", "internalType": "uint256", "indexed": false },
      { "type": "uint256", "name": "usdp", "internalType": "uint256", "indexed": false }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "Join",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address", "indexed": true },
      { "type": "address", "name": "owner", "internalType": "address", "indexed": true },
      { "type": "uint256", "name": "main", "internalType": "uint256", "indexed": false },
      { "type": "uint256", "name": "usdp", "internalType": "uint256", "indexed": false }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "JoinWithLeverage",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address", "indexed": true },
      { "type": "address", "name": "owner", "internalType": "address", "indexed": true },
      { "type": "uint256", "name": "userAssetAmount", "internalType": "uint256", "indexed": false },
      {
        "type": "uint256",
        "name": "swappedAssetAmount",
        "internalType": "uint256",
        "indexed": false
      },
      { "type": "uint256", "name": "usdp", "internalType": "uint256", "indexed": false }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "LiquidationTriggered",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address", "indexed": true },
      { "type": "address", "name": "owner", "internalType": "address", "indexed": true }
    ],
    "anonymous": false
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "DENOMINATOR_1E5",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "Q112",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "address", "name": "", "internalType": "contract ICDPRegistry" }],
    "name": "cdpRegistry",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "exit",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "usdpAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "exitWithDeleverage",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "swapper", "internalType": "contract ISwapper" },
      { "type": "uint256", "name": "assetAmountToUser", "internalType": "uint256" },
      { "type": "uint256", "name": "assetAmountToSwap", "internalType": "uint256" },
      { "type": "uint256", "name": "minSwappedUsdpAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "exit_targetRepayment",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "repayment", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "getCollateralUsdValue_q112",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "owner", "internalType": "address" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }],
    "name": "isLiquidatablePosition",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "owner", "internalType": "address" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [],
    "name": "join",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "usdpAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [],
    "name": "joinWithLeverage",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "swapper", "internalType": "contract ISwapper" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "usdpAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "minSwappedAssetAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "liquidationPrice_q112",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "owner", "internalType": "address" }
    ]
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "address", "name": "", "internalType": "contract IOracleRegistry" }],
    "name": "oracleRegistry",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "address", "name": "", "internalType": "contract ISwappersRegistry" }],
    "name": "swappersRegistry",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [],
    "name": "triggerLiquidation",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "owner", "internalType": "address" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "unwrapAndExit",
    "inputs": [
      { "type": "address", "name": "wrappedAsset", "internalType": "contract IWrappedAsset" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "usdpAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "unwrapAndExitTargetRepayment",
    "inputs": [
      { "type": "address", "name": "wrappedAsset", "internalType": "contract IWrappedAsset" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "repayment", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "unwrapAndExitWithDeleverage",
    "inputs": [
      { "type": "address", "name": "wrappedAsset", "internalType": "contract IWrappedAsset" },
      { "type": "address", "name": "swapper", "internalType": "contract ISwapper" },
      { "type": "uint256", "name": "assetAmountToUser", "internalType": "uint256" },
      { "type": "uint256", "name": "assetAmountToSwap", "internalType": "uint256" },
      { "type": "uint256", "name": "minSwappedUsdpAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "address", "name": "", "internalType": "contract IERC20" }],
    "name": "usdp",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }],
    "name": "utilizationRatio",
    "inputs": [
      { "type": "address", "name": "asset", "internalType": "address" },
      { "type": "address", "name": "owner", "internalType": "address" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "address", "name": "", "internalType": "contract IVault" }],
    "name": "vault",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [
      { "type": "address", "name": "", "internalType": "contract IVaultManagerBorrowFeeParameters" }
    ],
    "name": "vaultManagerBorrowFeeParameters",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [
      { "type": "address", "name": "", "internalType": "contract IVaultManagerParameters" }
    ],
    "name": "vaultManagerParameters",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "view",
    "outputs": [{ "type": "address", "name": "", "internalType": "contract IVaultParameters" }],
    "name": "vaultParameters",
    "inputs": []
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [],
    "name": "wrapAndJoin",
    "inputs": [
      { "type": "address", "name": "wrappedAsset", "internalType": "contract IWrappedAsset" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "usdpAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  },
  {
    "type": "function",
    "stateMutability": "nonpayable",
    "outputs": [],
    "name": "wrapAndJoinWithLeverage",
    "inputs": [
      { "type": "address", "name": "wrappedAsset", "internalType": "contract IWrappedAsset" },
      { "type": "address", "name": "swapper", "internalType": "contract ISwapper" },
      { "type": "uint256", "name": "assetAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "usdpAmount", "internalType": "uint256" },
      { "type": "uint256", "name": "minSwappedAssetAmount", "internalType": "uint256" },
      {
        "type": "tuple",
        "name": "proofData",
        "internalType": "struct KeydonixOracleAbstract.ProofDataStruct",
        "components": [
          { "type": "bytes", "name": "block", "internalType": "bytes" },
          { "type": "bytes", "name": "accountProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "reserveAndTimestampProofNodesRlp", "internalType": "bytes" },
          { "type": "bytes", "name": "priceAccumulatorProofNodesRlp", "internalType": "bytes" }
        ]
      }
    ]
  }
]
